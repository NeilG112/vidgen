# netlify.toml

# This section configures the build command and publish directory.
# It should match what you have set in the Netlify UI.
[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  # Disable sensitive secrets scanning since we're handling all secrets via Netlify environment variables
  SECRETS_SCAN_ENABLED = "false"

[build.processing.secrets]
  # Paths to omit from secrets scanning. Include example files, build caches,
  # and Netlify's generated build output to avoid flagging artifacts.
  omit_paths = [
    # Example and exported artifacts that may legitimately contain long hashes
    "Workflow 2.json",
    ".env.example",
    "tsconfig.tsbuildinfo",

    # Next build output and caches (match all generated files)
    ".next/**",
    ".next/cache/**",
    ".next/*/cache/**",
    ".next/static/**",
    ".next/server/**",

    # Netlify-specific build output (when Netlify packages .next into functions)
    ".netlify/.next/**",
    ".netlify/functions-internal/**",
    ".netlify/functions/**",

    # Cover common webpack pack/cache files
    ".next/cache/webpack/**",
    ".netlify/.next/cache/webpack/**"
  ]
